<template name="tankStats">
	<div class="panel panel-info" style="position:relative;">
	{{#panelHeader}}
		<span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
	{{else}}
		{{> standardSettings}}
		{{>fittingCountSelect}}
	{{/panelHeader}}
	{{#with fittingsWithTank}}
		{{>tankStatsTable}}
		<div class="panel-footer">
			<div class="row">
				<div class="col-md-3 col-xs-6">TotalRep: <b>{{formatNumber totalRep}}</b></div>
				<div class="col-md-3 col-xs-6">Minimum EHP: <b>{{formatNumber minEHP.value}}</b><br/>{{minEHP.name}}</div>
				<div class="col-md-3 col-xs-6">Minimum Tank: <b>{{formatNumber minTank.value}}</b><br/>{{minTank.name}}</div>
				<div class="col-md-3 col-xs-6">Minimum TTL: <b>{{formatNumber minTTL.value 2}}</b><br/> {{minTTL.name}}</div>
			</div>
		</div>
	{{/with}}
	</div>
</template>

<template name="tankStatsTable">
<table class="table">
	<tr>
		<th></th>
		<th>Ship</th>
		<th>{{> fourierIcon path="ehp"}} EHP<br/>
		{{> fourierIcon tanktype=../tanktype path="ehp"}} Tank EHP</th>
		<th>{{> fourierIcon tanktype=../tanktype path="resi"}} Resi<br/>
		{{> fourierIcon tanktype=../tanktype path="rr"}} Rep</th>
		<th>{{> fourierIcon tanktype=../tanktype path="tank"}} Tank<br/>
		{{> fourierIcon path="tanktime"}} Time to kill</th>
		<th>Count</th>
		<th></th>
	</tr>
{{#each fittings}} 
	<tr>
		<td><img style="height: 48px; width: 48px;" src="http://image.eveonline.com/Type/{{shipTypeID}}_64.png"/></td>
		<td><b>{{shipTypeName}}</b><br/>
		{{name}}</td>
		<td>{{formatNumber stats.tank.ehp}}<br/>
		{{tankattr stats.tank 'ehp'}}</td>
		<td>{{tankattr stats.tank 'resi' 2}}<br/>
		{{outgoingattr stats.outgoing 'rr' 2}}</td>
		<td>{{formatNumber tank 2}}<br/>
		{{formatNumber ttl 2}}</td>
		<td>{{count}}</td>
		<td>
			{{> countButtons}}
		</td>
	</tr>	
{{/each}}
</table>
</template>

<template name="fourierIcon">
	<img class="fourierIcon hidden-sm hidden-xs" src="/img/fourier/{{tanktype}}{{path}}.png"/>
</template>
